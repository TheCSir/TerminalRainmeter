[Rainmeter]
Update=1000
AccurateText=1
BackgroundMode=2
SolidColor=0,0,0,1

[Variables]
; Darkish theme (matching TerminalStart)
ColorBg=13,13,13
ColorFg=224,224,224
ColorMuted=119,119,119
ColorBorder=51,51,51
ColorAccent=255,255,255
ColorHover=34,34,34
FontFace=JetBrains Mono
FontSize=12
FontSizeSm=10
FontSizeXs=9
W=280
H=148

; ═══════════════════════════════════════════
; MEASURES
; ═══════════════════════════════════════════

[mCPU]
Measure=CPU

[mRAM]
Measure=PhysicalMemory

[mRAMTotal]
Measure=PhysicalMemory
Total=1

[mRAMPercent]
Measure=Calc
Formula=(mRAM / mRAMTotal) * 100
MinValue=0
MaxValue=100

[mRAMTotalGB]
Measure=Calc
Formula=mRAMTotal / 1073741824
NumOfDecimals=1

[mGPU]
Measure=Plugin
Plugin=UsageMonitor
Alias=GPU
Index=0

[mGPUPercent]
Measure=Calc
Formula=mGPU
MinValue=0
MaxValue=100

; ── Static hardware info (registry = free) ──

[mCPUName]
Measure=Registry
RegHKey=HKEY_LOCAL_MACHINE
RegKey=HARDWARE\DESCRIPTION\System\CentralProcessor\0
RegValue=ProcessorNameString
RegExpSubstitute=1
Substitute="\(R\)":"","\(TM\)":"","\(tm\)":"","Intel Core ":"","AMD ":"","Processor":"","CPU ":"","@ .*":"","\d+-Core ":"","  ":" ","^\s+|\s+$":""

[mCPUClock]
Measure=Registry
RegHKey=HKEY_LOCAL_MACHINE
RegKey=HARDWARE\DESCRIPTION\System\CentralProcessor\0
RegValue=~MHz

; ── GPU name from registry (free, instant) ──

[mGPUName]
Measure=Registry
RegHKey=HKEY_LOCAL_MACHINE
RegKey=SYSTEM\CurrentControlSet\Control\Class\{4d36e968-e325-11ce-bfc1-08002be10318}\0000
RegValue=DriverDesc
RegExpSubstitute=1
Substitute="NVIDIA GeForce ":"","AMD Radeon ":"","Intel\(R\) ":"Intel ","^\s+|\s+$":""

; ── RAM type + speed via VBScript → file → WebParser ──

[mRAMSpeedScript]
Measure=Plugin
Plugin=RunCommand
Program=cscript
Parameter=//NoLogo "#CURRENTPATH#GetRAMSpeed.vbs"
State=Hide
Timeout=5000
UpdateDivider=-1
FinishAction=[!UpdateMeasure mRAMSpeedParse][!UpdateMeter *][!Redraw]

[mRAMSpeedParse]
Measure=Plugin
Plugin=WebParser
URL=file://#CURRENTPATH#raminfo.txt
RegExp=(.+)
ForceReload=1
UpdateRate=5

[mRAMSpeed]
Measure=Plugin
Plugin=WebParser
URL=[mRAMSpeedParse]
StringIndex=1

; ═══════════════════════════════════════════
; METERS – TUI Border
; ═══════════════════════════════════════════

[MeterBg]
Meter=Image
X=0
Y=7
W=#W#
H=(#H# - 7)
SolidColor=#ColorBg#

[MeterBorderTop]
Meter=Image
X=0
Y=7
W=#W#
H=1
SolidColor=#ColorBorder#

[MeterBorderBottom]
Meter=Image
X=0
Y=(#H# - 1)
W=#W#
H=1
SolidColor=#ColorBorder#

[MeterBorderLeft]
Meter=Image
X=0
Y=7
W=1
H=(#H# - 7)
SolidColor=#ColorBorder#

[MeterBorderRight]
Meter=Image
X=(#W# - 1)
Y=7
W=1
H=(#H# - 7)
SolidColor=#ColorBorder#

[MeterTitleBg]
Meter=Image
X=8
Y=1
W=98
H=14
SolidColor=#ColorBg#

[MeterTitle]
Meter=String
X=12
Y=0
FontFace=#FontFace#
FontSize=#FontSizeSm#
FontWeight=700
FontColor=#ColorMuted#
StringAlign=Left
StringCase=Lower
AntiAlias=1
Text=sysmon.exe
MouseOverAction=[!SetOption MeterTitle FontColor "#ColorAccent#"][!UpdateMeter MeterTitle][!Redraw]
MouseLeaveAction=[!SetOption MeterTitle FontColor "#ColorMuted#"][!UpdateMeter MeterTitle][!Redraw]

; ═══════════════════════════════════════════
; METERS – CPU
; ═══════════════════════════════════════════

[MeterCPUInfo]
Meter=String
MeasureName=mCPUName
MeasureName2=mCPUClock
X=14
Y=28
W=(#W# - 70)
FontFace=#FontFace#
FontSize=#FontSizeXs#
FontWeight=400
FontColor=#ColorMuted#
StringAlign=Left
AntiAlias=1
ClipString=1
Text=CPU : %1

[MeterCPUPercent]
Meter=String
MeasureName=mCPU
X=(#W# - 14)
Y=28
FontFace=#FontFace#
FontSize=#FontSizeXs#
FontWeight=400
FontColor=#ColorAccent#
StringAlign=Right
AntiAlias=1
Text=%1%

[MeterCPUBar]
Meter=Bar
MeasureName=mCPU
X=14
Y=48
W=(#W# - 28)
H=6
BarColor=#ColorAccent#
SolidColor=#ColorBorder#
BarOrientation=Horizontal

; ═══════════════════════════════════════════
; METERS – RAM
; ═══════════════════════════════════════════

[MeterRAMInfo]
Meter=String
MeasureName=mRAMSpeed
MeasureName2=mRAMTotalGB
X=14
Y=66
W=(#W# - 70)
FontFace=#FontFace#
FontSize=#FontSizeXs#
FontWeight=400
FontColor=#ColorMuted#
StringAlign=Left
AntiAlias=1
ClipString=1
Text=MEM : %1 : %2gb

[MeterRAMPercent]
Meter=String
MeasureName=mRAMPercent
X=(#W# - 14)
Y=66
FontFace=#FontFace#
FontSize=#FontSizeXs#
FontWeight=400
FontColor=#ColorAccent#
StringAlign=Right
AntiAlias=1
NumOfDecimals=1
Text=%1%

[MeterRAMBar]
Meter=Bar
MeasureName=mRAM
X=14
Y=86
W=(#W# - 28)
H=6
BarColor=#ColorAccent#
SolidColor=#ColorBorder#
BarOrientation=Horizontal

; ═══════════════════════════════════════════
; METERS – GPU
; ═══════════════════════════════════════════

[MeterGPUInfo]
Meter=String
MeasureName=mGPUName
X=14
Y=104
W=(#W# - 70)
FontFace=#FontFace#
FontSize=#FontSizeXs#
FontWeight=400
FontColor=#ColorMuted#
StringAlign=Left
AntiAlias=1
ClipString=1
Text=GPU : %1

[MeterGPUPercent]
Meter=String
MeasureName=mGPUPercent
X=(#W# - 14)
Y=104
FontFace=#FontFace#
FontSize=#FontSizeXs#
FontWeight=400
FontColor=#ColorAccent#
StringAlign=Right
AntiAlias=1
NumOfDecimals=0
Text=%1%

[MeterGPUBar]
Meter=Bar
MeasureName=mGPU
X=14
Y=124
W=(#W# - 28)
H=6
BarColor=#ColorAccent#
SolidColor=#ColorBorder#
BarOrientation=Horizontal
